### üîó Testes de Integra√ß√£o

### Vari√°veis
@baseUrl = http://localhost:4000/api

### ============================================
### 1Ô∏è‚É£ HEALTH CHECK
### ============================================
GET {{baseUrl}}/integration/health

### Resposta esperada:
# {
#   "status": "healthy",
#   "fortniteApi": {
#     "status": "up",
#     "responseTime": 123
#   },
#   "timestamp": "2025-11-03T00:00:00.000Z"
# }

### ============================================
### 2Ô∏è‚É£ BUSCAR COSM√âTICOS NOVOS
### ============================================
GET {{baseUrl}}/integration/cosmetics/new

### Resposta esperada:
# {
#   "data": [...],
#   "metadata": {
#     "total": 10,
#     "language": "en"
#   }
# }

### ============================================
### 3Ô∏è‚É£ BUSCAR COSM√âTICOS NOVOS (com idioma)
### ============================================
GET {{baseUrl}}/integration/cosmetics/new?language=pt-BR

### Resposta esperada:
# {
#   "data": [...],
#   "metadata": {
#     "total": 10,
#     "language": "pt-BR"
#   }
# }

### ============================================
### 4Ô∏è‚É£ BUSCAR TODOS OS COSM√âTICOS
### ============================================
GET {{baseUrl}}/integration/cosmetics

### Resposta esperada:
# {
#   "data": [...],
#   "metadata": {
#     "total": 1000,
#     "page": 1,
#     "pageSize": 50,
#     "totalPages": 20,
#     "language": "en"
#   }
# }

### ============================================
### 6Ô∏è‚É£ BUSCAR COSM√âTICOS COM IDIOMA E PAGINA√á√ÉO
### ============================================
GET {{baseUrl}}/integration/cosmetics?language=pt-BR

### Resposta esperada:
# {
#   "data": [...],
#   "metadata": {
#     "total": 1000,
#     "page": 2,
#     "pageSize": 20,
#     "totalPages": 50,
#     "language": "pt-BR"
#   }
# }

### ============================================
### 6Ô∏è‚É£ BUSCAR SHOP (LOJA)
### ============================================
GET {{baseUrl}}/integration/shop

### Resposta esperada:
# [
#   {
#     "externalId": "CID_884_Athena_Commando_F_ChOneRamirez",
#     "name": "Vintage Ramirez",
#     "description": "Back again and ready for action.",
#     "type": "outfit",
#     "rarity": "uncommon",
#     "imageUrl": "https://fortnite-api.com/images/cosmetics/br/cid_884_athena_commando_f_choneramirez/featured.png",
#     "addedAt": "2020-11-05T00:00:00.000Z",
#     "childrenExternalIds": []
#   },
#   ...
# ]

### ============================================
### 7Ô∏è‚É£ BUSCAR SHOP COM IDIOMA
### ============================================
GET {{baseUrl}}/integration/shop?language=pt-BR

### Resposta esperada:
# [
#   {
#     "externalId": "...",
#     "name": "Nome em Portugu√™s",
#     "description": "Descri√ß√£o em portugu√™s",
#     "type": "outfit",
#     "rarity": "uncommon",
#     "imageUrl": "...",
#     "addedAt": "...",
#     "childrenExternalIds": []
#   },
#   ...
# ]

### ============================================
### 8Ô∏è‚É£ BUSCAR M√âTRICAS (Resumo)
### ============================================
GET {{baseUrl}}/integration/metrics

### Resposta esperada:
# {
#   "requests": {
#     "total": 1234,
#     "success": 1200,
#     "failure": 34,
#     "successRate": 0.972
#   },
#   "latency": {
#     "average": 150.5,
#     "min": 50,
#     "max": 500,
#     "p50": 140,
#     "p95": 300,
#     "p99": 450
#   },
#   "cache": {
#     "hits": 800,
#     "misses": 400,
#     "hitRate": 0.667
#   },
#   "errors": {
#     "total": 34,
#     "byType": {
#       "timeout": 10,
#       "connection": 5,
#       "http_error": 19
#     }
#   },
#   "period": {
#     "start": "2025-11-03T00:00:00.000Z",
#     "end": "2025-11-03T23:59:59.999Z"
#   }
# }

### ============================================
### 9Ô∏è‚É£ BUSCAR M√âTRICAS (Formato Prometheus)
### ============================================
GET {{baseUrl}}/integration/metrics/prometheus

### Resposta esperada (formato texto Prometheus):
# # HELP fortnite_api_requests_total Total number of requests to Fortnite API
# # TYPE fortnite_api_requests_total counter
# fortnite_api_requests_total{status="success"} 1200
# fortnite_api_requests_total{status="failure"} 34
# 
# # HELP fortnite_api_latency_seconds Request latency in seconds
# # TYPE fortnite_api_latency_seconds histogram
# fortnite_api_latency_seconds_bucket{le="0.1"} 500
# fortnite_api_latency_seconds_bucket{le="0.5"} 1100
# fortnite_api_latency_seconds_bucket{le="1"} 1200
# fortnite_api_latency_seconds_bucket{le="+Inf"} 1234
# 
# # HELP fortnite_api_cache_hits_total Total number of cache hits
# # TYPE fortnite_api_cache_hits_total counter
# fortnite_api_cache_hits_total 800
